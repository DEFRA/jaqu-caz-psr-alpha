{% extends "layout.html" %}

{% block beforeContent %}
{{ govukBackLink({
href: "javascript:history.back()",
text: "Back"
}) }}
{% endblock %}

{% block pageTitle %}
    Pay a Clean Air Zone charge
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        {% if error %}
        <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1"
            data-module="error-summary">
            <h2 class="govuk-error-summary__title" id="error-summary-title">
                There is a problem
            </h2>
            <div class="govuk-error-summary__body">
                <ul class="govuk-list govuk-error-summary__list">
                    <li>
                        <a href="#date-error">{{errorMessage}}</a>
                    </li>
                </ul>
            </div>
        </div>
        {% endif %}
        <h1 class="govuk-heading-l">When do you want your 7-day period to start?</h1>
        <p>You have to pay by midnight the day after you begin driving in the zone.</p>
        <details class="govuk-details">
            <summary class="govuk-details__summary">
                <span class="govuk-details__summary-text">
                Why can't I see my dates?
                </span>
            </summary>
            <div class="govuk-details__text">
                You can't pay any earlier than 7 days ahead. <br><br>You have to pay by midnight the day after you drive in a zone. If you are trying to make a payment later than this, you will need to wait for the penalty charge notice to arrive by post. This will be sent to the address the DVLA holds for the vehicle owner.
            </div>
        </details>
        <form method="post" class="form" action="/payments/selected-date">
            <div class="govuk-form-group">
                {% if error %}
                <div class="govuk-form-group govuk-form-group--error">
                    {% endif %}
                    {% if not error %}
                    <div class="govuk-form-group">
                        {% endif %}
                        {% if error %}
                        <span id="date-error" class="govuk-error-message">
                            <span class="govuk-visually-hidden">Error:</span> {{errorMessage}}
                        </span>
                        {% endif %}
                        <fieldset class="govuk-fieldset">
                            <div class="govuk-radios">
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="date-0" name="date" type="radio"
                                        value="twoDaysAgo">
                                    <label class="govuk-label govuk-radios__label" for="date-0">
                                        {{twoDaysAgo}}
                                    </label>
                                    <span id="twoDaysAgo-hint" class="govuk-hint" style="margin-left: 15px;">
                                        Your weekly charge is valid until midnight on {{twoDaysAgoStringWeekly}}
                                    </span>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="date-1" name="date" type="radio"
                                        value="yesterday">
                                    <label class="govuk-label govuk-radios__label" for="date-1">
                                        {{yesterday}}
                                    </label>
                                    <span id="yesterday-hint" class="govuk-hint" style="margin-left: 15px;">
                                        Your weekly charge is valid until midnight on {{yesterdayStringWeekly}}
                                    </span>
                                </div>
                                <div class="govuk-radios__item">
                                    <input class="govuk-radios__input" id="date-2" name="date" type="radio"
                                        value="today">
                                    <label class="govuk-label govuk-radios__label" for="date-2">
                                        <b>{{today}}</b> (Today)
                                    </label>
                                    <span id="today-hint" class="govuk-hint" style="margin-left: 15px;">
                                        Your weekly charge is valid until midnight on {{todayStringWeekly}}
                                    </span>
                                </div>
                            </div>
                        </fieldset>   
                </div>
                <br>
                <br>
                <button type="submit" class="govuk-button">
                    Continue
                </button>
                <p><a href="/payments/select-period">Pay for 1 day instead</a></p>
            </div>        
        </form>
    </div>
</div>

{% endblock %}